Generated at: Fri Jun  6 14:34:24 KST 2025
======================================

===== PAGE COMPONENTS =====
--- src/pages/auth/ImwebAdditionalInfo.tsx ---
// src/pages/auth/ImwebAdditionalInfo.tsx

export default function ImwebAdditionalInfo() {
  const user = useAuthStore(state => state.user)
  const navigate = useNavigate()
  const [formData, setFormData] = useState({
    company: '',
    role: '',
    purpose: ''
  })

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    
    // ë°±ì—”ë“œë¡œ ì¶”ê°€ ì •ë³´ ì „ì†¡
    // await updateUserProfile(formData)
    
    navigate('/dashboard')
  }

  const handleSkip = () => {
    navigate('/dashboard')
  }

  return (
    <div className="min-h-[80vh] flex items-center justify-center py-12 px-4">
      <div className="max-w-md w-full">
        <Card>
          <div className="text-center mb-6">
            <h2 className="text-2xl font-bold">í™˜ì˜í•©ë‹ˆë‹¤! ğŸ‰</h2>
            <p className="text-gray-600 mt-2">
              {user?.name}ë‹˜, James Companyì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.
            </p>
            <p className="text-sm text-gray-500 mt-1">
              ë” ë‚˜ì€ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•´ ì¶”ê°€ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
            </p>
          </div>

          <form onSubmit={handleSubmit} className="space-y-4">
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-1">
                íšŒì‚¬/ì¡°ì§ (ì„ íƒ)
              </label>
              <input
                type="text"
                value={formData.company}
                onChange={(e) => setFormData({...formData, company: e.target.value})}
                className="w-full px-3 py-2 border border-gray-300 rounded-lg"
                placeholder="ì†Œì†ëœ íšŒì‚¬ë‚˜ ì¡°ì§ì„ ì…ë ¥í•˜ì„¸ìš”"
              />
            </div>

            <div>
              <label className="block text-sm font-medium text-gray-700 mb-1">
                ì§ë¬´ (ì„ íƒ)
              </label>
              <select
                value={formData.role}
                onChange={(e) => setFormData({...formData, role: e.target.value})}
                className="w-full px-3 py-2 border border-gray-300 rounded-lg"
              >
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="qa">QA Engineer</option>
                <option value="sdet">SDET</option>
                <option value="developer">Developer</option>
                <option value="pm">Product Manager</option>
                <option value="other">ê¸°íƒ€</option>
              </select>
            </div>

            <div>
              <label className="block text-sm font-medium text-gray-700 mb-1">
                ì„œë¹„ìŠ¤ ì´ìš© ëª©ì  (ì„ íƒ)
              </label>
              <select
                value={formData.purpose}
                onChange={(e) => setFormData({...formData, purpose: e.target.value})}
                className="w-full px-3 py-2 border border-gray-300 rounded-lg"
              >
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="casemaker">CaseMaker ì‚¬ìš©</option>
                <option value="education">êµìœ¡ ì„œë¹„ìŠ¤ ìˆ˜ê°•</option>
                <option value="coffeechat">ì»¤í”¼ì±— ìƒë‹´</option>
                <option value="bugbounty">Bug Bounty ì°¸ì—¬</option>
                <option value="all">ëª¨ë“  ì„œë¹„ìŠ¤</option>
              </select>
            </div>

            <div className="flex gap-3 pt-4">
              <Button
                type="button"
                variant="outline"
                onClick={handleSkip}
                className="flex-1"
              >
                ê±´ë„ˆë›°ê¸°
              </Button>
              <Button
                type="submit"
                className="flex-1"
              >
                ì‹œì‘í•˜ê¸°
              </Button>
            </div>
          </form>
        </Card>
      </div>
    </div>
  )
}

--- src/pages/auth/Login.tsx ---
// src/pages/auth/Login.tsx


export default function Login() {
  const [email, setEmail] = useState('')
  const [password, setPassword] = useState('')
  const [showPassword, setShowPassword] = useState(false)
  const [loading, setLoading] = useState(false)
  const [error, setError] = useState<string | null>(null)
  const [rememberMe, setRememberMe] = useState(false)
  const [showRememberMeModal, setShowRememberMeModal] = useState(false)
  
  const login = useAuthStore(state => state.login)
  const isAuthenticated = useAuthStore(state => state.isAuthenticated)
  const navigate = useNavigate()
  const location = useLocation()

  const from = location.state?.from?.pathname || '/dashboard'

  // ë¡œê·¸ì¸ëœ ìƒíƒœì—ì„œ ì ‘ê·¼ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸
  useEffect(() => {
    if (isAuthenticated) {
      navigate(from, { replace: true })
    }
  }, [isAuthenticated, navigate, from])

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    setLoading(true)
    setError(null)
    
    try {
      await login(email, password)
      
      // rememberMe ì˜µì…˜ì— ë”°ë¼ í† í° ì €ì¥ ë°©ì‹ ê²°ì •
      if (rememberMe) {
        // ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ë¥¼ ì„ íƒí•œ ê²½ìš° - ì´ë¯¸ localStorageì— ì €ì¥ë¨
        console.log('ë¡œê·¸ì¸ ìƒíƒœê°€ ìœ ì§€ë©ë‹ˆë‹¤.')
      } else {
        // ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ë¥¼ ì„ íƒí•˜ì§€ ì•Šì€ ê²½ìš° - sessionStorage ì‚¬ìš© ê¶Œì¥
        console.log('ë¸Œë¼ìš°ì €ë¥¼ ë‹«ìœ¼ë©´ ë¡œê·¸ì•„ì›ƒë©ë‹ˆë‹¤.')
      }
      
      navigate(from, { replace: true })
    } catch (error: any) {
      console.error('Login failed:', error)
      setError(error.message || 'ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')
    } finally {
      setLoading(false)
    }
  }

  const handleGoogleLogin = () => {
    // í˜„ì¬ í˜ì´ì§€ ì €ì¥ (ë¡œê·¸ì¸ í›„ ëŒì•„ì˜¬ í˜ì´ì§€)
    sessionStorage.setItem('oauth_redirect', from)
    // Backend OAuth ì—”ë“œí¬ì¸íŠ¸ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    window.location.href = `${import.meta.env.VITE_API_URL}/api/v1/auth/google/login`
  }

  const handleKakaoLogin = () => {
    // í˜„ì¬ í˜ì´ì§€ ì €ì¥ (ë¡œê·¸ì¸ í›„ ëŒì•„ì˜¬ í˜ì´ì§€)
    sessionStorage.setItem('oauth_redirect', from)
    // Backend OAuth ì—”ë“œí¬ì¸íŠ¸ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    window.location.href = `${import.meta.env.VITE_API_URL}/api/v1/auth/kakao/login`
  }

  const handleRememberMeChange = (checked: boolean) => {
    if (checked) {
      setShowRememberMeModal(true)
    } else {
      setRememberMe(false)
    }
  }

  const confirmRememberMe = () => {
    setRememberMe(true)
    setShowRememberMeModal(false)
  }

  const cancelRememberMe = () => {
    setRememberMe(false)
    setShowRememberMeModal(false)
  }

  return (
    <div className="min-h-[80vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
      <div className="max-w-md w-full">
        <div className="text-center mb-8">
          <h2 className="text-3xl font-bold">ë¡œê·¸ì¸</h2>
        </div>

        <Card>
          {/* ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼ë“¤ - imweb ë²„íŠ¼ ì œê±°ë¨ */}
          <div className="space-y-3">
            {/* Google ë¡œê·¸ì¸ ë²„íŠ¼ */}
            <Button
              onClick={handleGoogleLogin}
              variant="outline"
              className="w-full flex items-center justify-center hover:bg-gray-50"
              size="lg"
            >
              <svg className="w-5 h-5 mr-2" viewBox="0 0 24 24">
                <path
                  fill="#4285F4"
                  d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                />
                <path
                  fill="#34A853"
                  d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                />
                <path
                  fill="#FBBC05"
                  d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                />
                <path
                  fill="#EA4335"
                  d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                />
              </svg>
              Googleë¡œ ê³„ì†í•˜ê¸°
            </Button>

            {/* Kakao ë¡œê·¸ì¸ ë²„íŠ¼ */}
            <Button
              onClick={handleKakaoLogin}
              className="w-full flex items-center justify-center bg-[#FEE500] hover:bg-[#FDD835] text-[#000000D9]"
              size="lg"
            >
              <svg className="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none">
                <path
                  fill="#000000"
                  d="M12 3c5.514 0 10 3.476 10 7.747 0 4.272-4.48 7.748-10 7.748-1.19 0-2.34-.16-3.41-.46l-3.67 2.84c-.16.12-.39.08-.51-.08-.13-.15-.13-.36-.02-.52l1.24-4.02c-2.16-1.55-3.63-3.9-3.63-6.56C2 6.476 6.486 3 12 3z"
                />
              </svg>
              ì¹´ì¹´ì˜¤ë¡œ ê³„ì†í•˜ê¸°
            </Button>
          </div>

          <div className="relative my-6">
            <div className="absolute inset-0 flex items-center">
              <div className="w-full border-t border-gray-300" />
            </div>
            <div className="relative flex justify-center text-sm">
              <span className="px-2 bg-white text-gray-500">ë˜ëŠ”</span>
            </div>
          </div>

          {error && (
            <div className="mb-4 p-3 bg-red-50 border border-red-200 rounded-lg">
              <p className="text-sm text-red-600">{error}</p>
            </div>
          )}

          <form onSubmit={handleSubmit} className="space-y-6">
            <Input
              label="ì´ë©”ì¼"
              type="email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              required
              placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"
              autoComplete="email"
            />

            <div className="relative">
              <Input
                label="ë¹„ë°€ë²ˆí˜¸"
                type={showPassword ? "text" : "password"}
                value={password}
                onChange={(e) => setPassword(e.target.value)}
                required
                placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                autoComplete="current-password"
              />
              <button
                type="button"
                onClick={() => setShowPassword(!showPassword)}
                className="absolute right-3 top-[38px] text-gray-400 hover:text-gray-600"
              >
                {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}
              </button>
            </div>

            <div className="flex items-center justify-between">
              <label className="flex items-center">
                <input 
                  type="checkbox" 
                  className="mr-2"
                  checked={rememberMe}
                  onChange={(e) => handleRememberMeChange(e.target.checked)}
                />
                <span className="text-sm text-gray-600">ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€</span>
              </label>
              <Link to="/forgot-password" className="text-sm text-primary hover:underline">
                ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°
              </Link>
            </div>

            <Button
              type="submit"

--- src/pages/auth/Signup.tsx ---
// src/pages/auth/Signup.tsx


const latestTerms = getLatestTerms();
const latestPrivacy = getLatestPrivacy();
const latestMarketing = getLatestMarketing();

export default function Signup() {
  const [formData, setFormData] = useState({
    name: "",
    email: "",
    password: "",
    confirmPassword: "",
  });
  const [agreements, setAgreements] = useState({
    terms: false,
    privacy: false,
    marketing: false,
  });
  const [loading, setLoading] = useState(false);
  const [isTermsOpen, setIsTermsOpen] = useState(false);
  const [isPrivacyOpen, setIsPrivacyOpen] = useState(false);
  const [isMarketingOpen, setIsMarketingOpen] = useState(false);
  const [showPassword, setShowPassword] = useState(false);
  const [showConfirmPassword, setShowConfirmPassword] = useState(false);
  const [emailError, setEmailError] = useState("");
  const [isFormValid, setIsFormValid] = useState(false);

  const signup = useAuthStore((state) => state.signup);
  const isAuthenticated = useAuthStore((state) => state.isAuthenticated);
  const navigate = useNavigate();

  // ë¡œê·¸ì¸ëœ ìƒíƒœì—ì„œ ì ‘ê·¼ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸
  useEffect(() => {
    if (isAuthenticated) {
      navigate('/dashboard', { replace: true });
    }
  }, [isAuthenticated, navigate]);

  // ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜
  const validateEmail = (email: string) => {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  };

  // í¼ ìœ íš¨ì„± ê²€ì‚¬
  useEffect(() => {
    const isValid = 
      formData.name.trim() !== "" &&
      formData.email.trim() !== "" &&
      validateEmail(formData.email) &&
      formData.password.length >= 8 &&
      formData.password === formData.confirmPassword &&
      agreements.terms &&
      agreements.privacy;
    
    setIsFormValid(isValid);
  }, [formData, agreements]);

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const { name, value } = e.target;
    setFormData({
      ...formData,
      [name]: value,
    });

    // ì´ë©”ì¼ ìœ íš¨ì„± ì‹¤ì‹œê°„ ê²€ì‚¬
    if (name === "email") {
      if (value && !validateEmail(value)) {
        setEmailError("ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.");
      } else {
        setEmailError("");
      }
    }
  };

  const handleAgreementChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setAgreements({
      ...agreements,
      [e.target.name]: e.target.checked,
    });
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    if (formData.password !== formData.confirmPassword) {
      alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
      return;
    }

    if (formData.password.length < 8) {
      alert("ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
      return;
    }

    if (!validateEmail(formData.email)) {
      alert("ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.");
      return;
    }

    if (!agreements.terms || !agreements.privacy) {
      alert("í•„ìˆ˜ ì•½ê´€ì— ë™ì˜í•´ì£¼ì„¸ìš”.");
      return;
    }

    setLoading(true);

    try {
      await signup({
        name: formData.name,
        email: formData.email,
        password: formData.password,
      });
      
      console.log("Signup successful, redirecting to login...");
      
      // íšŒì›ê°€ì… ì„±ê³µ ë©”ì‹œì§€ì™€ í•¨ê»˜ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
      alert("íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.");
      
      // window.locationì„ ì‚¬ìš©í•˜ì—¬ í™•ì‹¤í•˜ê²Œ ì´ë™
      window.location.href = "/login";
      
    } catch (error: any) {
      console.error("Signup failed:", error);
      // êµ¬ì²´ì ì¸ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
      if (error.message) {
        alert(error.message);
      } else {
        alert("íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
      }
    } finally {
      setLoading(false);
    }
  };

  return (
    <>
      <div className="min-h-[80vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div className="max-w-md w-full">
          <div className="text-center mb-8">
            <h2 className="text-3xl font-bold">íšŒì›ê°€ì…</h2>
            <p className="mt-2 text-gray-600">
              ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”?{" "}
              <Link to="/login" className="text-primary hover:underline">
                ë¡œê·¸ì¸
              </Link>
            </p>
          </div>

          <Card>
            <form onSubmit={handleSubmit} className="space-y-6">
              <Input
                label="ì´ë¦„"
                name="name"
                value={formData.name}
                onChange={handleChange}
                required
                autoComplete="name"
                placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
              />

              <div>
                <Input
                  label="ì´ë©”ì¼"
                  type="email"
                  name="email"
                  value={formData.email}
                  onChange={handleChange}
                  required
                  autoComplete="email"
                  placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"
                />
                {emailError && (
                  <p className="mt-1 text-sm text-red-600">{emailError}</p>
                )}
              </div>

              <div className="relative">
                <Input
                  label="ë¹„ë°€ë²ˆí˜¸"
                  type={showPassword ? "text" : "password"}
                  name="password"
                  value={formData.password}
                  onChange={handleChange}
                  placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (8ì ì´ìƒ)"
                  required
                  autoComplete="new-password"
                />
                <button
                  type="button"
                  onClick={() => setShowPassword(!showPassword)}
                  className="absolute right-3 top-[38px] text-gray-400 hover:text-gray-600"
                >
                  {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}
                </button>
                {formData.password && formData.password.length < 8 && (
                  <p className="mt-1 text-sm text-red-600">ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
                )}
              </div>

--- src/pages/auth/ImwebCallback.tsx ---
// src/pages/auth/ImwebCallback.tsx

export default function ImwebCallback() {
  const navigate = useNavigate()
  const [searchParams] = useSearchParams()
  const loginWithImweb = useAuthStore(state => state.loginWithImweb)

  useEffect(() => {
    const handleCallback = async () => {
      const code = searchParams.get('code')
      const error = searchParams.get('error')

      if (error) {
        console.error('OAuth error:', error)
        alert('ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')
        navigate('/login')
        return
      }

      if (code) {
        try {
          // ë°±ì—”ë“œë¡œ codeë¥¼ ë³´ë‚´ì„œ access tokenì„ ë°›ì•„ì˜´
          await loginWithImweb(code)
          navigate('/dashboard')
        } catch (error) {
          console.error('Login failed:', error)
          alert('ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')
          navigate('/login')
        }
      }
    }

    handleCallback()
  }, [searchParams, navigate, loginWithImweb])

  return (
    <div className="min-h-screen flex items-center justify-center">
      <div className="text-center">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"></div>
        <p className="mt-4 text-gray-600">imweb ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ ì¤‘...</p>
      </div>
    </div>
  )
}

--- src/pages/auth/OAuthCallback.tsx ---

--- src/components/auth/ProtectedRoute.tsx ---
// src/components/auth/ProtectedRoute.tsx


interface ProtectedRouteProps {
  children: React.ReactNode;
  requiredRole?: 'user' | 'mentor' | 'admin';
}

const ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children, requiredRole }) => {
  const isAuthenticated = useAuthStore(state => state.isAuthenticated);
  const user = useAuthStore(state => state.user);

  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }

  // ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´
  if (requiredRole) {
    // ë©˜í†  í˜ì´ì§€ ì ‘ê·¼ ì‹œ
    if (requiredRole === 'mentor') {
      // adminì€ ëª¨ë“  í˜ì´ì§€ ì ‘ê·¼ ê°€ëŠ¥
      if (user?.role === 'admin') {
        return <>{children}</>;
      }
      
      // mentorStatus ì²´í¬ (ìŠ¹ì¸ëœ ë©˜í† ì¸ì§€ í™•ì¸)
      if (user?.mentorStatus === 'pending') {
        return (
          <div className="min-h-screen flex items-center justify-center bg-gray-50">
            <div className="bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center">
              <div className="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg className="w-8 h-8 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <h2 className="text-2xl font-bold text-gray-800 mb-4">ìŠ¹ì¸ ëŒ€ê¸° ì¤‘</h2>
              <p className="text-gray-600 mb-6">
                ë©˜í†  ì‹ ì²­ì´ ê²€í†  ì¤‘ì…ë‹ˆë‹¤.<br />
                ìŠ¹ì¸ ì™„ë£Œ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
              </p>
              <button
                onClick={() => window.location.href = '/dashboard'}
                className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
              >
                ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°
              </button>
            </div>
          </div>
        );
      }
      
      if (user?.mentorStatus === 'rejected') {
        return (
          <div className="min-h-screen flex items-center justify-center bg-gray-50">
            <div className="bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center">
              <div className="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg className="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                </svg>
              </div>
              <h2 className="text-2xl font-bold text-gray-800 mb-4">ì ‘ê·¼ ë¶ˆê°€</h2>
              <p className="text-gray-600 mb-6">
                ë©˜í†  ì‹ ì²­ì´ ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤.<br />
                ìì„¸í•œ ë‚´ìš©ì€ ì´ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.
              </p>
              <button
                onClick={() => window.location.href = '/dashboard'}
                className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
              >
                ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°
              </button>
            </div>
          </div>
        );
      }
      
      // mentorStatusê°€ 'approved'ì¸ ê²½ìš°ì—ë§Œ ì ‘ê·¼ í—ˆìš©
      if (user?.mentorStatus === 'approved') {
        return <>{children}</>;
      }
      
      // ë©˜í† ê°€ ì•„ë‹Œ ê²½ìš°
      return <Navigate to="/dashboard" replace />;
    }
    
    // ê´€ë¦¬ì í˜ì´ì§€ ì ‘ê·¼ ì‹œ
    if (requiredRole === 'admin' && user?.role !== 'admin') {
      return <Navigate to="/dashboard" replace />;
    }
  }

  return <>{children}</>;
};

export default ProtectedRoute;

--- src/components/auth/RememberMeModal.tsx ---
// src/components/auth/RememberMeModal.tsx


interface RememberMeModalProps {
  isOpen: boolean;
  onConfirm: () => void;
  onCancel: () => void;
}

const RememberMeModal: React.FC<RememberMeModalProps> = ({ 
  isOpen, 
  onConfirm, 
  onCancel 
}) => {
  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
      <div className="bg-white rounded-lg max-w-md w-full p-6 shadow-xl">
        <div className="flex items-center mb-4">
          <div className="bg-yellow-100 rounded-full p-2 mr-3">
            <AlertTriangle className="w-6 h-6 text-yellow-600" />
          </div>
          <h3 className="text-lg font-semibold">ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ ì£¼ì˜ì‚¬í•­</h3>
        </div>
        
        <div className="space-y-3 mb-6">
          <p className="text-gray-700">
            ë¸Œë¼ìš°ì €ë¥¼ ë‹«ë”ë¼ë„ ë¡œê·¸ì¸ì´ ê³„ì† ìœ ì§€ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </p>
          <div className="bg-gray-50 p-4 rounded-lg">
            <p className="text-sm text-gray-600 font-medium mb-2">
              ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì—ëŠ” ì‚¬ìš©ì„ ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:
            </p>
            <ul className="list-disc list-inside text-sm text-gray-600 space-y-1">
              <li>ê³µê³µì¥ì†Œì˜ ì»´í“¨í„° (PCë°©, ë„ì„œê´€, í•™êµ ë“±)</li>
              <li>íƒ€ì¸ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê¸°ê¸°</li>
              <li>íšŒì‚¬ë‚˜ ê³µìš© ì»´í“¨í„°</li>
            </ul>
          </div>
          <p className="text-sm text-gray-500">
            ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ ê³µìš© ì»´í“¨í„°ì—ì„œëŠ” ì‚¬ìš©ì´ ëë‚˜ë©´ ë°˜ë“œì‹œ ë¡œê·¸ì•„ì›ƒí•´ ì£¼ì„¸ìš”.
          </p>
        </div>
        
        <div className="flex gap-3">
          <Button
            onClick={onCancel}
            variant="outline"
            className="flex-1"
          >
            ì·¨ì†Œ
          </Button>
          <Button
            onClick={onConfirm}
            className="flex-1"
          >
            í™•ì¸
          </Button>
        </div>
      </div>
    </div>
  );
};

export default RememberMeModal;

--- src/components/auth/OAuthCallback.tsx ---
// src/components/auth/OAuthCallback.tsx


interface OAuthUser {
  id: string
  email: string
  name: string
  role: 'user' | 'admin'
  profile_image?: string
  membership_tier?: string
}

export default function OAuthCallback() {
  const navigate = useNavigate()
  const location = useLocation()
  const setAuth = useAuthStore(state => state.setAuth)
  const [status, setStatus] = useState<'loading' | 'success' | 'error'>('loading')
  const [message, setMessage] = useState('ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘...')

  useEffect(() => {
    const processOAuthCallback = async () => {
      try {
        const params = new URLSearchParams(location.search)
        const token = params.get('token')
        const refreshToken = params.get('refresh_token')
        const error = params.get('error')
        const isNew = params.get('isNew') === 'true'

        if (error) {
          throw new Error(getOAuthErrorMessage(error))
        }

        if (!token) {
          throw new Error('ì¸ì¦ í† í°ì„ ë°›ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.')
        }

        // í† í° ì €ì¥
        localStorage.setItem('access_token', token)
        if (refreshToken) {
          localStorage.setItem('refresh_token', refreshToken)
        }

        // ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        try {
          const response = await api.get<OAuthUser>('/api/users/me')
          const user = {
            id: response.data.id,
            email: response.data.email,
            name: response.data.name,
            role: response.data.role
          }
          
          // authStoreì— ì¸ì¦ ìƒíƒœ ì„¤ì •
          setAuth(true, user, token)
        } catch (err) {
          console.error('Failed to fetch user info:', err)
          // ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í•´ë„ í† í°ì€ ì €ì¥ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì¸ì¦ ìƒíƒœë§Œ ì„¤ì •
          setAuth(true, null, token)
        }

        // ì„±ê³µ ë©”ì‹œì§€
        setStatus('success')
        setMessage(isNew ? 'íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!' : 'ë¡œê·¸ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!')

        // ì›ë˜ ê°€ë ¤ë˜ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
        const redirectPath = sessionStorage.getItem('oauth_redirect') || '/dashboard'
        sessionStorage.removeItem('oauth_redirect')

        setTimeout(() => {
          navigate(redirectPath)
        }, 1500)
      } catch (error) {
        setStatus('error')
        setMessage(error instanceof Error ? error.message : 'ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')
      }
    }

    processOAuthCallback()
  }, [location, navigate, setAuth])

  const getOAuthErrorMessage = (error: string): string => {
    const errorMessages: Record<string, string> = {
      'access_denied': 'ë¡œê·¸ì¸ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.',
      'invalid_request': 'ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤.',
      'unauthorized_client': 'ì¸ì¦ë˜ì§€ ì•Šì€ í´ë¼ì´ì–¸íŠ¸ì…ë‹ˆë‹¤.',
      'server_error': 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.',
      'kakao_auth_failed': 'ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.',
    }
    
    return errorMessages[error] || 'ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.'
  }

  return (
    <div className="min-h-[80vh] flex items-center justify-center py-12 px-4">
      <div className="max-w-md w-full">
        <Card>
          <div className="text-center">
            {status === 'loading' && (
              <div className="space-y-4">
                <div className="inline-flex items-center justify-center w-16 h-16">
                  <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"></div>
                </div>
                <p className="text-gray-600">{message}</p>
              </div>
            )}

            {status === 'success' && (
              <div className="space-y-4">
                <div className="inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full">
                  <svg
                    className="w-8 h-8 text-green-600"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth={2}
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                </div>
                <p className="text-gray-900 font-medium">{message}</p>
                <p className="text-sm text-gray-500">ì ì‹œ í›„ ì´ë™í•©ë‹ˆë‹¤...</p>
              </div>
            )}

            {status === 'error' && (
              <div className="space-y-4">
                <div className="inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full">
                  <svg
                    className="w-8 h-8 text-red-600"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth={2}
                      d="M6 18L18 6M6 6l12 12"
                    />
                  </svg>
                </div>
                <p className="text-gray-900 font-medium">{message}</p>
                <button
                  onClick={() => navigate('/login')}
                  className="inline-block mt-4 text-sm text-primary hover:underline"
                >
                  ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°
                </button>
              </div>
            )}
          </div>
        </Card>
      </div>
    </div>
  )
}

--- src/components/auth/SocialLoginButton.tsx ---
// src/components/auth/SocialLoginButton.tsx


interface SocialLoginButtonProps {
  provider: 'google' | 'kakao';
  onClick: () => void;
  isLoading?: boolean;
}

const providerConfig = {
  google: {
    name: 'Google',
    bgColor: 'bg-white hover:bg-gray-50',
    textColor: 'text-gray-700',
    borderColor: 'border border-gray-300',
    icon: (
      <svg className="w-5 h-5" viewBox="0 0 24 24">
        <path
          fill="#4285F4"
          d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
        />
        <path
          fill="#34A853"
          d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
        />
        <path
          fill="#FBBC05"
          d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
        />
        <path
          fill="#EA4335"
          d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
        />
      </svg>
    )
  },
  kakao: {
    name: 'Kakao',
    bgColor: 'bg-[#FEE500] hover:bg-[#FDD835]',
    textColor: 'text-[#000000D9]',
    borderColor: 'border border-[#FEE500]',
    icon: (
      <svg className="w-5 h-5" viewBox="0 0 24 24" fill="none">
        <path
          fill="#000000"
          d="M12 3c5.514 0 10 3.476 10 7.747 0 4.272-4.48 7.748-10 7.748-1.19 0-2.34-.16-3.41-.46l-3.67 2.84c-.16.12-.39.08-.51-.08-.13-.15-.13-.36-.02-.52l1.24-4.02c-2.16-1.55-3.63-3.9-3.63-6.56C2 6.476 6.486 3 12 3z"
        />
      </svg>
    )
  }
};

const SocialLoginButton: React.FC<SocialLoginButtonProps> = ({ 
  provider, 
  onClick, 
  isLoading = false 
}) => {
  const config = providerConfig[provider];

  return (
    <button
      onClick={onClick}
      disabled={isLoading}
      className={`
        relative w-full flex items-center justify-center gap-3 px-4 py-3
        ${config.bgColor} ${config.textColor} ${config.borderColor}
        rounded-lg font-medium transition-colors duration-200
        disabled:opacity-50 disabled:cursor-not-allowed
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
      `}
    >
      {isLoading ? (
        <svg className="animate-spin h-5 w-5" viewBox="0 0 24 24">
          <circle 
            className="opacity-25" 
            cx="12" 
            cy="12" 
            r="10" 
            stroke="currentColor" 
            strokeWidth="4" 
            fill="none" 
          />
          <path 
            className="opacity-75" 
            fill="currentColor" 
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" 
          />
        </svg>
      ) : (
        config.icon
      )}
      <span>{isLoading ? 'ë¡œê·¸ì¸ ì¤‘...' : `${config.name}ë¡œ ê³„ì†í•˜ê¸°`}</span>
    </button>
  );
};

export default SocialLoginButton;

--- src/services/auth.service.ts ---
// src/services/auth.service.ts

const API_URL = import.meta.env.VITE_API_URL;

interface LoginResponse {
  access_token: string;
  refresh_token?: string;
  token_type: string;
  user: {
    id: number;
    email: string;
    name: string;
    profile_image?: string;
    membership_tier: string;
    is_admin: boolean;
  };
}

interface SignupData {
  email: string;
  password: string;
  name: string;
}

class AuthService {
  // ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸
  async login(email: string, password: string): Promise<LoginResponse> {
    const formData = new FormData();
    formData.append('username', email); // OAuth2PasswordRequestFormì€ username í•„ë“œ ì‚¬ìš©
    formData.append('password', password);

    const response = await axios.post<LoginResponse>(
      `${API_URL}/api/auth/login`,
      formData,
      {
        headers: {
          'Content-Type': 'multipart/form-data',
        },
      }
    );

    return response.data;
  }

  // íšŒì›ê°€ì…
  async signup(data: SignupData) {
    const response = await axios.post(`${API_URL}/auth/signup`, data);
    return response.data;
  }

  // í† í° ìƒˆë¡œê³ ì¹¨
  async refreshToken(refreshToken: string): Promise<LoginResponse> {
    const response = await axios.post<LoginResponse>(
      `${API_URL}/auth/refresh`,
      { refresh_token: refreshToken }
    );
    return response.data;
  }

  // í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
  async getCurrentUser() {
    const token = localStorage.getItem('access_token');
    if (!token) {
      throw new Error('No token found');
    }

    const response = await axios.get(`${API_URL}/auth/me`, {
      headers: {
        Authorization: `Bearer ${token}`,
      },
    });

    return response.data;
  }

  // ë¡œê·¸ì•„ì›ƒ
  logout() {
    localStorage.removeItem('access_token');
    localStorage.removeItem('refresh_token');
    window.location.href = '/login';
  }

  // í† í° ìœ íš¨ì„± ê²€ì‚¬
  isAuthenticated(): boolean {
    return !!localStorage.getItem('access_token');
  }

  // Axios ì¸í„°ì…‰í„° ì„¤ì •
  setupAxiosInterceptors() {
    // ìš”ì²­ ì¸í„°ì…‰í„°
    axios.interceptors.request.use(
      (config) => {
        const token = localStorage.getItem('access_token');
        if (token) {
          config.headers.Authorization = `Bearer ${token}`;
        }
        return config;
      },
      (error) => Promise.reject(error)
    );

    // ì‘ë‹µ ì¸í„°ì…‰í„°
    axios.interceptors.response.use(
      (response) => response,
      async (error) => {
        const originalRequest = error.config;

        if (error.response?.status === 401 && !originalRequest._retry) {
          originalRequest._retry = true;

          try {
            const refreshToken = localStorage.getItem('refresh_token');
            if (refreshToken) {
              const response = await this.refreshToken(refreshToken);
              localStorage.setItem('access_token', response.access_token);
              if (response.refresh_token) {
                localStorage.setItem('refresh_token', response.refresh_token);
              }
              
              // ì›ë˜ ìš”ì²­ ì¬ì‹œë„
              originalRequest.headers.Authorization = `Bearer ${response.access_token}`;
              return axios(originalRequest);
            }
          } catch (refreshError) {
            // ë¦¬í”„ë ˆì‹œ í† í°ë„ ë§Œë£Œëœ ê²½ìš°
            this.logout();
            return Promise.reject(refreshError);
          }
        }

        return Promise.reject(error);
      }
    );
  }
}

export const authService = new AuthService();
export default authService;

--- src/utils/oauth.utils.ts ---
// src/utils/oauth.utils.ts

// OAuth í”„ë¡œë°”ì´ë” ì„¤ì •
export const OAUTH_CONFIG = {
    google: {
      authUrl: `${import.meta.env.VITE_API_URL}/auth/oauth/google`,
      name: 'Google',
      icon: 'ğŸ”µ',
    },
    kakao: {
      authUrl: `${import.meta.env.VITE_API_URL}/auth/oauth/kakao`,
      name: 'Kakao',
      icon: 'ğŸŸ¡',
    },
  } as const;
  
  export type OAuthProvider = keyof typeof OAUTH_CONFIG;
  
  // OAuth ë¡œê·¸ì¸ ì‹œì‘
  export const startOAuthLogin = (provider: OAuthProvider) => {
    const config = OAUTH_CONFIG[provider];
    
    // í˜„ì¬ URLì„ ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ (ë¡œê·¸ì¸ í›„ ëŒì•„ì˜¬ í˜ì´ì§€)
    sessionStorage.setItem('oauth_redirect', window.location.pathname);
    
    // OAuth í”„ë¡œë°”ì´ë”ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    window.location.href = config.authUrl;
  };
  
  // OAuth ì½œë°± ì²˜ë¦¬
  export const handleOAuthCallback = async (params: URLSearchParams) => {
    const token = params.get('token');
    const refreshToken = params.get('refresh_token');
    const error = params.get('error');
    const isNew = params.get('isNew') === 'true';
    
    if (error) {
      throw new Error(error);
    }
    
    if (!token) {
      throw new Error('No token received');
    }
    
    // í† í° ì €ì¥
    localStorage.setItem('access_token', token);
    if (refreshToken) {
      localStorage.setItem('refresh_token', refreshToken);
    }
    
    // ì›ë˜ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•  ê²½ë¡œ
    const redirectPath = sessionStorage.getItem('oauth_redirect') || '/';
    sessionStorage.removeItem('oauth_redirect');
    
    return { token, refreshToken, isNew, redirectPath };
  };
  
  // OAuth ì—ëŸ¬ ë©”ì‹œì§€ ì²˜ë¦¬
  export const getOAuthErrorMessage = (error: string): string => {
    const errorMessages: Record<string, string> = {
      'access_denied': 'ë¡œê·¸ì¸ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.',
      'invalid_request': 'ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤.',
      'unauthorized_client': 'ì¸ì¦ë˜ì§€ ì•Šì€ í´ë¼ì´ì–¸íŠ¸ì…ë‹ˆë‹¤.',
      'unsupported_response_type': 'ì§€ì›í•˜ì§€ ì•ŠëŠ” ì‘ë‹µ ìœ í˜•ì…ë‹ˆë‹¤.',
      'server_error': 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.',
      'temporarily_unavailable': 'ì¼ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
      'kakao_auth_failed': 'ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.',
    };
    
    return errorMessages[error] || 'ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
  };

===== RELATED TYPES =====

===== API CALLS =====
src/services/auth.service.ts:// src/services/auth.service.ts
src/services/auth.service.ts-import axios from 'axios';
src/services/auth.service.ts-
src/services/auth.service.ts-const API_URL = import.meta.env.VITE_API_URL;
src/services/auth.service.ts-
src/services/auth.service.ts-interface LoginResponse {
src/services/auth.service.ts:  access_token: string;
src/services/auth.service.ts:  refresh_token?: string;
src/services/auth.service.ts:  token_type: string;
src/services/auth.service.ts-  user: {
src/services/auth.service.ts-    id: number;
src/services/auth.service.ts-    email: string;
src/services/auth.service.ts-    name: string;
src/services/auth.service.ts-    profile_image?: string;
--
src/services/auth.service.ts-class AuthService {
src/services/auth.service.ts-  // ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸
src/services/auth.service.ts:  async login(email: string, password: string): Promise<LoginResponse> {
src/services/auth.service.ts-    const formData = new FormData();
src/services/auth.service.ts-    formData.append('username', email); // OAuth2PasswordRequestFormì€ username í•„ë“œ ì‚¬ìš©
src/services/auth.service.ts-    formData.append('password', password);
src/services/auth.service.ts-
src/services/auth.service.ts-    const response = await axios.post<LoginResponse>(
src/services/auth.service.ts:      `${API_URL}/api/auth/login`,
src/services/auth.service.ts-      formData,
src/services/auth.service.ts-      {
src/services/auth.service.ts-        headers: {
src/services/auth.service.ts-          'Content-Type': 'multipart/form-data',
src/services/auth.service.ts-        },
--
src/services/auth.service.ts-  // íšŒì›ê°€ì…
src/services/auth.service.ts-  async signup(data: SignupData) {
src/services/auth.service.ts:    const response = await axios.post(`${API_URL}/auth/signup`, data);
src/services/auth.service.ts-    return response.data;
src/services/auth.service.ts-  }
src/services/auth.service.ts-
src/services/auth.service.ts-  // í† í° ìƒˆë¡œê³ ì¹¨
src/services/auth.service.ts-  async refreshToken(refreshToken: string): Promise<LoginResponse> {
src/services/auth.service.ts-    const response = await axios.post<LoginResponse>(
src/services/auth.service.ts:      `${API_URL}/auth/refresh`,
src/services/auth.service.ts:      { refresh_token: refreshToken }
src/services/auth.service.ts-    );
src/services/auth.service.ts-    return response.data;
src/services/auth.service.ts-  }
src/services/auth.service.ts-
src/services/auth.service.ts-  // í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
src/services/auth.service.ts-  async getCurrentUser() {
src/services/auth.service.ts:    const token = localStorage.getItem('access_token');
src/services/auth.service.ts:    if (!token) {
src/services/auth.service.ts:      throw new Error('No token found');
src/services/auth.service.ts-    }
src/services/auth.service.ts-
src/services/auth.service.ts:    const response = await axios.get(`${API_URL}/auth/me`, {
src/services/auth.service.ts-      headers: {
src/services/auth.service.ts:        Authorization: `Bearer ${token}`,
src/services/auth.service.ts-      },
src/services/auth.service.ts-    });
src/services/auth.service.ts-
src/services/auth.service.ts-    return response.data;
src/services/auth.service.ts-  }
--
src/services/auth.service.ts-  // ë¡œê·¸ì•„ì›ƒ
src/services/auth.service.ts-  logout() {
src/services/auth.service.ts:    localStorage.removeItem('access_token');
src/services/auth.service.ts:    localStorage.removeItem('refresh_token');
src/services/auth.service.ts:    window.location.href = '/login';
src/services/auth.service.ts-  }
src/services/auth.service.ts-
src/services/auth.service.ts-  // í† í° ìœ íš¨ì„± ê²€ì‚¬
src/services/auth.service.ts-  isAuthenticated(): boolean {
src/services/auth.service.ts:    return !!localStorage.getItem('access_token');
src/services/auth.service.ts-  }
src/services/auth.service.ts-
src/services/auth.service.ts-  // Axios ì¸í„°ì…‰í„° ì„¤ì •
src/services/auth.service.ts-  setupAxiosInterceptors() {
src/services/auth.service.ts-    // ìš”ì²­ ì¸í„°ì…‰í„°
src/services/auth.service.ts-    axios.interceptors.request.use(
src/services/auth.service.ts-      (config) => {
src/services/auth.service.ts:        const token = localStorage.getItem('access_token');
src/services/auth.service.ts:        if (token) {
src/services/auth.service.ts:          config.headers.Authorization = `Bearer ${token}`;
src/services/auth.service.ts-        }
src/services/auth.service.ts-        return config;
src/services/auth.service.ts-      },
src/services/auth.service.ts-      (error) => Promise.reject(error)
src/services/auth.service.ts-    );
--
src/services/auth.service.ts-
src/services/auth.service.ts-          try {
src/services/auth.service.ts:            const refreshToken = localStorage.getItem('refresh_token');
src/services/auth.service.ts-            if (refreshToken) {
src/services/auth.service.ts-              const response = await this.refreshToken(refreshToken);
src/services/auth.service.ts:              localStorage.setItem('access_token', response.access_token);
src/services/auth.service.ts:              if (response.refresh_token) {
src/services/auth.service.ts:                localStorage.setItem('refresh_token', response.refresh_token);
src/services/auth.service.ts-              }
src/services/auth.service.ts-              
src/services/auth.service.ts-              // ì›ë˜ ìš”ì²­ ì¬ì‹œë„
src/services/auth.service.ts:              originalRequest.headers.Authorization = `Bearer ${response.access_token}`;
src/services/auth.service.ts-              return axios(originalRequest);
src/services/auth.service.ts-            }
src/services/auth.service.ts-          } catch (refreshError) {
src/services/auth.service.ts-            // ë¦¬í”„ë ˆì‹œ í† í°ë„ ë§Œë£Œëœ ê²½ìš°
src/services/auth.service.ts-            this.logout();
--
src/services/auth.service.ts-}
src/services/auth.service.ts-
src/services/auth.service.ts:export const authService = new AuthService();
src/services/auth.service.ts:export default authService;
--
src/services/companyEmailService.ts-  const timestamp = Date.now();
src/services/companyEmailService.ts-  const random = Math.random().toString(36).substring(2, 15);
src/services/companyEmailService.ts:  const tokenString = `${companyEmail}-${timestamp}-${random}`;
src/services/companyEmailService.ts-  
src/services/companyEmailService.ts-  // Base64 ì¸ì½”ë”© (ë¸Œë¼ìš°ì € í˜¸í™˜)
src/services/companyEmailService.ts:  return btoa(tokenString);
src/services/companyEmailService.ts-};
--
src/services/api.ts-
src/services/api.ts-import axios from 'axios';
src/services/api.ts:import { useAuthStore } from '../stores/authStore';
src/services/api.ts-
src/services/api.ts-const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:8000';
src/services/api.ts-
src/services/api.ts-const api = axios.create({
src/services/api.ts-  baseURL: API_BASE_URL,
--
src/services/api.ts-});
src/services/api.ts-
src/services/api.ts:// Request interceptor to add auth token
src/services/api.ts-api.interceptors.request.use(
src/services/api.ts-  (config) => {
src/services/api.ts:    const token = useAuthStore.getState().token;
src/services/api.ts:    if (token) {
src/services/api.ts:      config.headers.Authorization = `Bearer ${token}`;
src/services/api.ts-    }
src/services/api.ts-    return config;
src/services/api.ts-  },
src/services/api.ts-  (error) => {
src/services/api.ts-    return Promise.reject(error);
--
src/services/api.ts-);
src/services/api.ts-
src/services/api.ts:// Response interceptor to handle auth errors
src/services/api.ts-api.interceptors.response.use(
src/services/api.ts-  (response) => response,
src/services/api.ts-  (error) => {
src/services/api.ts-    if (error.response?.status === 401) {
src/services/api.ts-      useAuthStore.getState().logout();
src/services/api.ts:      window.location.href = '/login';
src/services/api.ts-    }
src/services/api.ts-    return Promise.reject(error);
src/services/api.ts-  }
src/services/api.ts-);
src/services/api.ts-

===== STATE MANAGEMENT =====
src/stores/authStore.ts:// src/stores/authStore.ts
src/stores/authStore.ts-
src/stores/authStore.ts-import { create } from 'zustand'
src/stores/authStore.ts-import { persist } from 'zustand/middleware'
src/stores/authStore.ts-import api from '../services/api'
src/stores/authStore.ts-
src/stores/authStore.ts-interface User {
src/stores/authStore.ts-  id: string
src/stores/authStore.ts-  email: string
src/stores/authStore.ts-  name: string
src/stores/authStore.ts-  role: 'user' | 'admin'  // ê¸°ì¡´ êµ¬ì¡° ìœ ì§€
--
src/stores/authStore.ts-  user: User | null
src/stores/authStore.ts-  isAuthenticated: boolean
src/stores/authStore.ts:  token: string | null
src/stores/authStore.ts:  login: (email: string, password: string) => Promise<void>
src/stores/authStore.ts-  signup: (data: SignupData) => Promise<void>
src/stores/authStore.ts:  loginWithImweb: (code: string) => Promise<void>
src/stores/authStore.ts-  logout: () => void
src/stores/authStore.ts-  checkAuth: () => Promise<void>
src/stores/authStore.ts:  setAuth: (isAuthenticated: boolean, user?: User | null, token?: string | null) => void
src/stores/authStore.ts-  updateMentorStatus: (mentorStatus: 'pending' | 'approved' | 'rejected', mentorId?: number) => void  // ë©˜í†  ìƒíƒœ ì—…ë°ì´íŠ¸
src/stores/authStore.ts-}
src/stores/authStore.ts-
src/stores/authStore.ts-interface SignupData {
src/stores/authStore.ts-  email: string
src/stores/authStore.ts-  password: string
src/stores/authStore.ts-  name: string
src/stores/authStore.ts-}
src/stores/authStore.ts-
src/stores/authStore.ts-interface LoginResponse {
src/stores/authStore.ts:  access_token: string
src/stores/authStore.ts:  refresh_token?: string
src/stores/authStore.ts:  token_type: string
src/stores/authStore.ts-  user: User
src/stores/authStore.ts-}
src/stores/authStore.ts-
src/stores/authStore.ts-export const useAuthStore = create<AuthState>()(
src/stores/authStore.ts-  persist(
src/stores/authStore.ts-    (set, get) => ({
src/stores/authStore.ts-      user: null,
src/stores/authStore.ts-      isAuthenticated: false,
src/stores/authStore.ts:      token: null,
src/stores/authStore.ts-
src/stores/authStore.ts:      login: async (email: string, password: string) => {
src/stores/authStore.ts-        try {
src/stores/authStore.ts:          const response = await api.post('/auth/login', { 
src/stores/authStore.ts-            email, 
src/stores/authStore.ts-            password 
src/stores/authStore.ts-          });
src/stores/authStore.ts-
src/stores/authStore.ts:          const { access_token, user } = response.data
src/stores/authStore.ts-
src/stores/authStore.ts-          // í† í° ì €ì¥
src/stores/authStore.ts:          localStorage.setItem('access_token', access_token)
src/stores/authStore.ts-
src/stores/authStore.ts-          set({
src/stores/authStore.ts-            user,
src/stores/authStore.ts-            isAuthenticated: true,
src/stores/authStore.ts:            token: access_token
src/stores/authStore.ts-          })
src/stores/authStore.ts-        } catch (error: any) {
src/stores/authStore.ts-          console.error('Login error:', error)
src/stores/authStore.ts-          if (error.response?.status === 401) {
src/stores/authStore.ts-            throw new Error('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.')
src/stores/authStore.ts-          }
src/stores/authStore.ts-          throw new Error('ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')
src/stores/authStore.ts-        }
src/stores/authStore.ts-      },
src/stores/authStore.ts-
--
src/stores/authStore.ts-        try {
src/stores/authStore.ts-          // íšŒì›ê°€ì… - /api/v1 ê²½ë¡œ ì¶”ê°€
src/stores/authStore.ts:          const signupResponse = await api.post('/auth/register', data);
src/stores/authStore.ts-          console.log('Signup response:', signupResponse);
src/stores/authStore.ts-
src/stores/authStore.ts-          // íšŒì›ê°€ì… ì„±ê³µ í›„ ìë™ ë¡œê·¸ì¸
src/stores/authStore.ts-          try {
src/stores/authStore.ts:            await get().login(data.email, data.password)
src/stores/authStore.ts:          } catch (loginError) {
src/stores/authStore.ts:            console.error('Auto-login failed after signup:', loginError)
src/stores/authStore.ts-          }
src/stores/authStore.ts-        } catch (error: any) {
src/stores/authStore.ts-          console.error('Signup error:', error)
src/stores/authStore.ts-          if (error.response?.data?.detail) {
src/stores/authStore.ts-            throw new Error(error.response.data.detail)
src/stores/authStore.ts-          }
src/stores/authStore.ts-          throw new Error('íšŒì›ê°€ì… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')
src/stores/authStore.ts-        }
src/stores/authStore.ts-      },
src/stores/authStore.ts-
src/stores/authStore.ts:      loginWithImweb: async (code: string) => {
src/stores/authStore.ts-        try {
src/stores/authStore.ts:          const response = await api.post<LoginResponse>('/auth/imweb/callback', {
src/stores/authStore.ts-            code,
src/stores/authStore.ts-          })
src/stores/authStore.ts-
src/stores/authStore.ts:          const { access_token, user } = response.data
src/stores/authStore.ts-
src/stores/authStore.ts-          // í† í° ì €ì¥
src/stores/authStore.ts:          localStorage.setItem('access_token', access_token)
src/stores/authStore.ts-
src/stores/authStore.ts-          set({
src/stores/authStore.ts-            user,
src/stores/authStore.ts-            isAuthenticated: true,
src/stores/authStore.ts:            token: access_token
src/stores/authStore.ts-          })
src/stores/authStore.ts-        } catch (error: any) {
src/stores/authStore.ts:          console.error('Imweb login error:', error)
src/stores/authStore.ts-          throw new Error('imweb ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')
src/stores/authStore.ts-        }
src/stores/authStore.ts-      },
src/stores/authStore.ts-
src/stores/authStore.ts-      logout: () => {
src/stores/authStore.ts-        // í† í° ì‚­ì œ
src/stores/authStore.ts:        localStorage.removeItem('access_token')
src/stores/authStore.ts:        localStorage.removeItem('refresh_token')
src/stores/authStore.ts-
src/stores/authStore.ts-        // ìƒíƒœ ì´ˆê¸°í™”
src/stores/authStore.ts-        set({
src/stores/authStore.ts-          user: null,
src/stores/authStore.ts-          isAuthenticated: false,
src/stores/authStore.ts:          token: null
src/stores/authStore.ts-        })
src/stores/authStore.ts-
src/stores/authStore.ts-        // ë¡œê·¸ì•„ì›ƒ API í˜¸ì¶œ (ì„ íƒì‚¬í•­)
src/stores/authStore.ts:        api.post('/auth/logout').catch(console.error)
src/stores/authStore.ts-      },
src/stores/authStore.ts-
src/stores/authStore.ts-      checkAuth: async () => {
src/stores/authStore.ts:        const token = localStorage.getItem('access_token')
src/stores/authStore.ts-        const currentState = get()
src/stores/authStore.ts-        
src/stores/authStore.ts-        // ì´ë¯¸ ì¸ì¦ëœ ìƒíƒœì´ê³  í† í°ì´ ìˆìœ¼ë©´ API í˜¸ì¶œ ìŠ¤í‚µ
src/stores/authStore.ts:        if (currentState.isAuthenticated && currentState.token && token) {
src/stores/authStore.ts-          return
src/stores/authStore.ts-        }
src/stores/authStore.ts-        
src/stores/authStore.ts:        if (!token) {
src/stores/authStore.ts:          set({ isAuthenticated: false, user: null, token: null })
src/stores/authStore.ts-          return
src/stores/authStore.ts-        }
src/stores/authStore.ts-
src/stores/authStore.ts-        try {
src/stores/authStore.ts-          const response = await api.get<User>('/users/me')
src/stores/authStore.ts-          
src/stores/authStore.ts-          // ë©˜í†  ìƒíƒœ í™•ì¸ (ì„ íƒì‚¬í•­)
src/stores/authStore.ts-          try {
src/stores/authStore.ts-            const mentorResponse = await api.get('/mentors/my-status')
src/stores/authStore.ts-            if (mentorResponse.data) {
--
src/stores/authStore.ts-            user: response.data,
src/stores/authStore.ts-            isAuthenticated: true,
src/stores/authStore.ts:            token
src/stores/authStore.ts-          })
src/stores/authStore.ts-        } catch (error) {
src/stores/authStore.ts-          console.error('Auth check failed:', error)
src/stores/authStore.ts-          // ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ì¸ ê²½ìš° ìƒíƒœë¥¼ ìœ ì§€
src/stores/authStore.ts-          if (!navigator.onLine) {
src/stores/authStore.ts:            console.log('Offline - keeping auth state')
src/stores/authStore.ts-            return
src/stores/authStore.ts-          }
src/stores/authStore.ts-          // 401 ì—ëŸ¬ì¸ ê²½ìš°ë§Œ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
src/stores/authStore.ts-          if ((error as any).response?.status === 401) {
src/stores/authStore.ts:            localStorage.removeItem('access_token')
src/stores/authStore.ts:            set({ isAuthenticated: false, user: null, token: null })
src/stores/authStore.ts-          }
src/stores/authStore.ts-          // ë‹¤ë¥¸ ì—ëŸ¬ëŠ” ìƒíƒœ ìœ ì§€
src/stores/authStore.ts-        }
src/stores/authStore.ts-      },
src/stores/authStore.ts-
src/stores/authStore.ts-      // OAuth ë¡œê·¸ì¸ í›„ ì¸ì¦ ìƒíƒœ ì„¤ì •ì„ ìœ„í•œ ë©”ì„œë“œ
src/stores/authStore.ts:      setAuth: (isAuthenticated: boolean, user: User | null = null, token: string | null = null) => {
src/stores/authStore.ts:        set({ isAuthenticated, user, token })
src/stores/authStore.ts-      },
src/stores/authStore.ts-
src/stores/authStore.ts-      // ë©˜í†  ìƒíƒœ ì—…ë°ì´íŠ¸ (ë©˜í†  ìŠ¹ì¸/ê±°ì ˆ í›„ ì‚¬ìš©)
src/stores/authStore.ts-      updateMentorStatus: (mentorStatus: 'pending' | 'approved' | 'rejected', mentorId?: number) => {
src/stores/authStore.ts-        set((state) => ({
src/stores/authStore.ts-          user: state.user ? { 
src/stores/authStore.ts-            ...state.user, 
src/stores/authStore.ts-            mentorStatus,
src/stores/authStore.ts-            mentorId: mentorId || state.user.mentorId 
src/stores/authStore.ts-          } : null
--
src/stores/authStore.ts-    }),
src/stores/authStore.ts-    {
src/stores/authStore.ts:      name: 'auth-storage',
src/stores/authStore.ts-      partialize: (state) => ({
src/stores/authStore.ts-        user: state.user,
src/stores/authStore.ts-        isAuthenticated: state.isAuthenticated,
src/stores/authStore.ts:        token: state.token  // tokenë„ persistì— ì¶”ê°€
src/stores/authStore.ts-      }),
src/stores/authStore.ts-    }
src/stores/authStore.ts-  )
src/stores/authStore.ts-)

===== CONFIGURATIONS =====
src/config/googleCalendar.ts:      'https://www.googleapis.com/auth/calendar.readonly',
src/config/googleCalendar.ts:      'https://www.googleapis.com/auth/calendar.events'

===== SUMMARY =====
Components found:
       9

API endpoints used:
          const response = await api.get<OAuthUser>('/api/users/me')
    const response = await axios.get(`${API_URL}/auth/me`, {
    const response = await axios.post(`${API_URL}/auth/signup`, data);
    const response = await axios.post<LoginResponse>(
