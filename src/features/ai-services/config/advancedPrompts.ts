// src/features/ai-services/config/advancedPrompts.ts

export const advancedPrompts = {
    // ê°ì • ìƒíƒœë³„ ë§ì¶¤ ì‘ë‹µ
    emotionalStates: {
      anxious: `ì‚¬ìš©ìê°€ ë¶ˆì•ˆí•´í•˜ê³  ìˆìŠµë‹ˆë‹¤. 
  - ë¨¼ì € ì•ˆì •ì„ ì°¾ì„ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”
  - í˜¸í¡ë²•ì´ë‚˜ ê°„ë‹¨í•œ ì´ì™„ ê¸°ë²•ì„ ì œì•ˆí•˜ì„¸ìš”
  - ë¶ˆì•ˆì˜ ì›ì¸ì„ ì²œì²œíˆ íƒìƒ‰í•˜ë„ë¡ ìœ ë„í•˜ì„¸ìš”`,
      
      sad: `ì‚¬ìš©ìê°€ ìŠ¬í¼í•˜ê³  ìˆìŠµë‹ˆë‹¤.
  - ì¶©ë¶„í•œ ê³µê°ê³¼ ìœ„ë¡œë¥¼ í‘œí˜„í•˜ì„¸ìš”
  - ìŠ¬í””ì„ ì–µëˆ„ë¥´ì§€ ë§ê³  ë°›ì•„ë“¤ì´ë„ë¡ ê²©ë ¤í•˜ì„¸ìš”
  - ì‘ì€ ê¸°ì¨ì„ ì°¾ì„ ìˆ˜ ìˆëŠ” í™œë™ì„ ì œì•ˆí•˜ì„¸ìš”`,
      
      angry: `ì‚¬ìš©ìê°€ í™”ê°€ ë‚˜ ìˆìŠµë‹ˆë‹¤.
  - ê°ì •ì„ ì¸ì •í•˜ê³  íƒ€ë‹¹ì„±ì„ í™•ì¸í•´ì£¼ì„¸ìš”
  - ê±´ê°•í•œ ë°©ë²•ìœ¼ë¡œ ê°ì •ì„ í‘œì¶œí•˜ë„ë¡ ì•ˆë‚´í•˜ì„¸ìš”
  - ìƒí™©ì„ ê°ê´€ì ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”`,
      
      confused: `ì‚¬ìš©ìê°€ í˜¼ë€ìŠ¤ëŸ¬ì›Œí•˜ê³  ìˆìŠµë‹ˆë‹¤.
  - ìƒê°ì„ ì •ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”
  - í•˜ë‚˜ì”© ì°¨ê·¼ì°¨ê·¼ ì§šì–´ê°€ë©° ëŒ€í™”í•˜ì„¸ìš”
  - ëª…í™•í•œ ì§ˆë¬¸ìœ¼ë¡œ í•µì‹¬ì„ íŒŒì•…í•˜ë„ë¡ ìœ ë„í•˜ì„¸ìš”`
    },
  
    // íŠ¹ìˆ˜ ìƒí™© ëŒ€ì‘
    specialCases: {
      crisis: `ê¸´ê¸‰ ìƒí™© ê°ì§€ ì‹œ:
  - ì¦‰ì‹œ ì „ë¬¸ê°€ ë„ì›€ì„ ê¶Œìœ í•˜ì„¸ìš”
  - ê¸´ê¸‰ ì—°ë½ì²˜ ì •ë³´ë¥¼ ì œê³µí•˜ì„¸ìš” (ìƒëª…ì˜ ì „í™” 109)
  - ì•ˆì „ì„ ìµœìš°ì„ ìœ¼ë¡œ ê³ ë ¤í•˜ì„¸ìš”`,
      
      repeat: `ë°˜ë³µì ì¸ ê³ ë¯¼ íŒ¨í„´ ê°ì§€ ì‹œ:
  - ì´ì „ ëŒ€í™”ë¥¼ ì°¸ê³ í•˜ì—¬ ì§„ì „ì„ í™•ì¸í•˜ì„¸ìš”
  - ìƒˆë¡œìš´ ê´€ì ì´ë‚˜ ì ‘ê·¼ë²•ì„ ì œì‹œí•˜ì„¸ìš”
  - ì‘ì€ ì‹¤ì²œ ê³¼ì œë¥¼ ì œì•ˆí•˜ì„¸ìš”`
    },
  
    // ëŒ€í™” ê¸°ë²•
    conversationTechniques: {
      mirroring: "ì‚¬ìš©ìì˜ ì–¸ì–´ ìŠ¤íƒ€ì¼ê³¼ ê°ì • í†¤ì„ ë°˜ì˜í•˜ì—¬ ì¹œë°€ê°ì„ ë†’ì´ì„¸ìš”",
      
      reframing: "ë¶€ì •ì ì¸ ìƒí™©ì„ ë‹¤ë¥¸ ê´€ì ì—ì„œ ë³¼ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”",
      
      validation: "ì‚¬ìš©ìì˜ ê°ì •ê³¼ ê²½í—˜ì„ íƒ€ë‹¹í•œ ê²ƒìœ¼ë¡œ ì¸ì •í•˜ê³  ìˆ˜ìš©í•˜ì„¸ìš”",
      
      empowerment: "ì‚¬ìš©ìê°€ ìŠ¤ìŠ¤ë¡œ í•´ê²°ì±…ì„ ì°¾ì„ ìˆ˜ ìˆë„ë¡ í˜ì„ ì‹¤ì–´ì£¼ì„¸ìš”"
    },
  
    // ë§ˆë¬´ë¦¬ ë©”ì‹œì§€ í…œí”Œë¦¿
    closingMessages: {
      encouragement: [
        "ì˜¤ëŠ˜ ìš©ê¸°ë‚´ì–´ ê³ ë¯¼ì„ ë‚˜ëˆ ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”. ë¶„ëª… ì¢‹ì€ ë°©í–¥ìœ¼ë¡œ ë‚˜ì•„ê°ˆ ê±°ì˜ˆìš”! ğŸŒˆ",
        "í•œ ê±¸ìŒ í•œ ê±¸ìŒì´ ëª¨ì—¬ í° ë³€í™”ë¥¼ ë§Œë“¤ì–´ìš”. ì‘ì›í• ê²Œìš”! â­",
        "ì´ì•¼ê¸°ë¥¼ ë“¤ë ¤ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš”. ì–¸ì œë“  ë‹¤ì‹œ ì°¾ì•„ì£¼ì„¸ìš”. ğŸ’"
      ],
      
      actionItems: [
        "ì˜¤ëŠ˜ ì´ì•¼ê¸°í•œ ë‚´ìš© ì¤‘ì—ì„œ ê°€ì¥ ë¨¼ì € ì‹œë„í•´ë³´ê³  ì‹¶ì€ ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?",
        "ì‘ì€ ê²ƒë¶€í„° ì‹œì‘í•´ë³´ëŠ” ê±´ ì–´ë–¨ê¹Œìš”? ë‚´ì¼ í•œ ê°€ì§€ë§Œ ì‹¤ì²œí•´ë³´ì„¸ìš”.",
        "ë‹¤ìŒì— ë§Œë‚  ë•ŒëŠ” ì–´ë–¤ ë³€í™”ê°€ ìˆì—ˆëŠ”ì§€ ë“¤ë ¤ì£¼ì„¸ìš”!"
      ]
    }
  }
  
  // ê°ì • ë¶„ì„ í•¨ìˆ˜
  export function analyzeEmotion(text: string): string {
    const emotions = {
      anxious: ['ë¶ˆì•ˆ', 'ê±±ì •', 'ì´ˆì¡°', 'ë‘ë ¤', 'ë¬´ì„œ'],
      sad: ['ìŠ¬í”„', 'ìš°ìš¸', 'ì™¸ë¡œ', 'í˜ë“¤', 'ëˆˆë¬¼'],
      angry: ['í™”ë‚˜', 'ì§œì¦', 'ë¶„ë…¸', 'ì–µìš¸', 'ì—´ë°›'],
      confused: ['ëª¨ë¥´ê² ', 'í˜¼ë€', 'ë³µì¡', 'ì–´ë–»ê²Œ', 'ë­˜']
    }
    
    const lowerText = text.toLowerCase()
    
    for (const [emotion, keywords] of Object.entries(emotions)) {
      if (keywords.some(keyword => lowerText.includes(keyword))) {
        return emotion
      }
    }
    
    return 'neutral'
  }
  
  // ì‘ë‹µ ê°œì¸í™” í•¨ìˆ˜
  export function personalizeResponse(baseResponse: string, timeOfDay: string, emotion: string): string {
    let personalizedResponse = baseResponse
    
    // ì‹œê°„ëŒ€ë³„ ì¸ì‚¬ ì¶”ê°€
    if (timeOfDay === 'morning') {
      personalizedResponse = 'ì¢‹ì€ ì•„ì¹¨ì´ì—ìš”! â˜€ï¸ ' + personalizedResponse
    } else if (timeOfDay === 'night') {
      personalizedResponse = 'ëŠ¦ì€ ì‹œê°„ê¹Œì§€ ê³ ë¯¼ì´ ë§ìœ¼ì‹œë„¤ìš”. ğŸŒ™ ' + personalizedResponse
    }
    
    // ê°ì •ë³„ ì´ëª¨ì§€ ì¶”ê°€
    const emotionEmojis = {
      anxious: 'ğŸ¤—',
      sad: 'ğŸ’™',
      angry: 'ğŸŒ¿',
      confused: 'ğŸ¤”',
      neutral: 'ğŸ˜Š'
    }
    
    personalizedResponse += ' ' + emotionEmojis[emotion as keyof typeof emotionEmojis]
    
    return personalizedResponse
  }